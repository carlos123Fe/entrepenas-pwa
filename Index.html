<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <title>EntrepeÃ±as Â· Mes a Mes (Dark)</title>
  manifest.webmanifest
  <meta name="theme-color" content="#000000" />
  <style>
    :root{
      --bg:#000; --fg:#f5f7fa; --muted:#cbd5e1; --line:#222;
      --accent:#38bdf8; --chip:#020508; --card:#070a0f;
      --fg-strong:#ffffff; --corner:14px;
    }
    * { box-sizing:border-box }
    html,body {
      margin:0; height:100%;
      background:#000; color:var(--fg);
      font-family:system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Arial,sans-serif
    }
    header {
      position:sticky; top:0;
      background:rgba(0,0,0,.9);
      backdrop-filter:blur(6px);
      border-bottom:1px solid var(--line);
      padding:12px 16px;
      display:flex; gap:10px; align-items:center;
      z-index:5;
    }
    header h1 {
      font-size:18px; margin:0; font-weight:700; color:var(--fg-strong)
    }
    .mode {
      margin-left:auto; display:flex; gap:8px; align-items:center;
    }
    select,button {
      background:#0b1220; color:var(--fg);
      border:1px solid var(--line);
      border-radius:10px;
      padding:8px 10px;
      font-size:14px;
    }
    main { padding:14px; max-width:640px; margin:0 auto }
    .month {
      margin:16px 0;
      border:1px solid var(--line);
      border-radius:var(--corner);
      background:var(--card);
    }
    .mtitle {
      display:flex; align-items:center; gap:10px;
      padding:12px 14px;
      border-bottom:1px solid var(--line)
    }
    .mtitle h2 { margin:0; font-size:16px; color:var(--fg-strong) }
    .tbl { width:100%; border-collapse:collapse }
    .tbl th,.tbl td {
      border:1px solid var(--line);
      padding:10px 8px; font-size:14px;
    }
    .tbl th { background:#0c1118; color:var(--accent); text-align:left }
    .tbl td { background:#000 }
    .lures {
      padding:10px 12px;
      border-top:1px solid var(--line);
      background:#000
    }
    .lures h3 { margin:0 0 8px 0; font-size:14px; color:var(--accent) }
    .chip {
      display:block;
      background:var(--chip);
      color:var(--fg);
      border:1px solid #152232;
      border-radius:10px;
      padding:8px 10px;
      margin:6px 0;
      font-size:13px;
    }
    .decision {
      margin:18px 0;
      border:1px solid var(--line);
      border-radius:var(--corner);
      overflow:hidden;
      background:var(--card)
    }
    .hint { color:var(--muted); font-size:12px; padding:0 2px 12px }
    .foot { padding:16px; color:var(--muted); font-size:12px; text-align:center }
    .hidden { display:none }
  </style>
</head>

<body>
  <header>
    <h1>ðŸ“… EntrepeÃ±as Â· Mes a Mes</h1>
    <div class="mode">
      <label for="modeSel" style="font-size:12px;color:var(--muted)">Modo</label>
      <select id="modeSel">
        <option value="A1">A1 Â· Meses + SeÃ±uelos</option>
        <option value="A2">A2 Â· Solo Meses</option>
        <option value="A3">A3 Â· Meses + Tabla decisiÃ³n</option>
      </select>
      <button id="installBtn" class="hidden">Instalar</button>
    </div>
  </header>

  <main id="app"></main>
  <div class="foot">Modo oscuro estilo chat Â· Funciona offline</div>

<script>
/* ===========================================================
   DATOS: 12 MESES + SEÃ‘UELOS + TABLA DECISIÃ“N
   =========================================================== */
const MONTHS = [
  { title:"ðŸ“… ENERO (el mes mÃ¡s duro)", rows:[
    ["ðŸŸ Lucioperca","ðŸ”¥ðŸ”¥ MÃ¡xima","10â€“15 m"],
    ["ðŸŸ Perca europea","ðŸ”¥ Alta","6â€“10 m"],
    ["ðŸŠ Lucio","ðŸŸ¡ Media","4â€“8 m"],
    ["ðŸŽ£ Black Bass","ðŸ”´ Muy baja","5â€“10 m"],
    ["ðŸ  Barbo","ðŸ”´ Muy baja","5â€“12 m"],
  ], lures:["â€¢ Shad 3â€“4\" pesado","â€¢ Jerkbait pausado","â€¢ Jig profundo"]},

  { title:"ðŸ“… FEBRERO (final del frÃ­o)", rows:[
    ["ðŸŸ Lucioperca","ðŸ”¥ Alta","8â€“12 m"],
    ["ðŸŠ Lucio","ðŸ”¥ Alta","3â€“7 m"],
    ["ðŸŸ Perca europea","ðŸŸ¡ Media","4â€“7 m"],
    ["ðŸŽ£ Black Bass","ðŸŸ¡ Baja-media","3â€“6 m"],
    ["ðŸ  Barbo","ðŸŸ¡ Media","3â€“6 m"],
  ], lures:["â€¢ Swimbait 12â€“14 cm","â€¢ Jerk suspending","â€¢ Crank medio"]},

  { title:"ðŸ“… MARZO (prepre-spawn)", rows:[
    ["ðŸŽ£ Black Bass","ðŸ”¥ðŸ”¥ Alta","2â€“5 m"],
    ["ðŸŠ Lucio","ðŸ”¥ Alta","2â€“6 m"],
    ["ðŸŸ Perca europea","ðŸ”¥ Alta","3â€“6 m"],
    ["ðŸŸ Lucioperca","ðŸŸ¡ Media","6â€“10 m"],
    ["ðŸ  Barbo","ðŸŸ¡ Media","2â€“5 m"],
  ], lures:["â€¢ Spinnerbait","â€¢ Texas ligero","â€¢ Jerkbait 11 cm"]},

  { title:"ðŸ“… ABRIL (pleno movimiento)", rows:[
    ["ðŸŽ£ Black Bass","ðŸ”¥ðŸ”¥ MÃ¡xima","0.5â€“3 m"],
    ["ðŸŠ Lucio","ðŸ”¥ Alta","2â€“5 m"],
    ["ðŸŸ Perca europea","ðŸ”¥ Alta","2â€“4 m"],
    ["ðŸ  Barbo","ðŸ”¥ Alta","1â€“4 m"],
    ["ðŸŸ Lucioperca","ðŸŸ¡ Media","5â€“9 m"],
  ], lures:["â€¢ Texas/creature","â€¢ Wacky/Neko","â€¢ Spinnerbait"]},

  { title:"ðŸ“… MAYO (post-spawn)", rows:[
    ["ðŸŽ£ Black Bass","ðŸ”¥ Alta","1â€“4 m"],
    ["ðŸŸ Perca europea","ðŸ”¥ Alta","2â€“4 m"],
    ["ðŸ  Barbo","ðŸ”¥ Alta","1â€“3 m"],
    ["ðŸŠ Lucio","ðŸŸ¡ Media","3â€“6 m"],
    ["ðŸŸ Lucioperca","ðŸŸ¡ Media","6â€“10 m"],
  ], lures:["â€¢ Topwater","â€¢ Jig ligero","â€¢ Crank shallow"]},

  { title:"ðŸ“… JUNIO (termoclina)", rows:[
    ["ðŸŽ£ Black Bass","ðŸ”¥ Alta","1â€“5 m"],
    ["ðŸŸ Perca europea","ðŸ”¥ Alta","2â€“6 m"],
    ["ðŸŸ Lucioperca","ðŸŸ¡ Media","4â€“9 m"],
    ["ðŸŠ Lucio","ðŸŸ¡ Media","2â€“6 m"],
    ["ðŸ  Barbo","ðŸŸ¡ Media","1â€“4 m"],
  ], lures:["â€¢ Top al alba","â€¢ Shad 9â€“10","â€¢ Ned 3â€“5 g"]},

  { title:"ðŸ“… JULIO (verano pleno)", rows:[
    ["ðŸŽ£ Black Bass","ðŸŸ¡ Media","0.5â€“4 m al alba, 3â€“7 m resto"],
    ["ðŸŸ Perca europea","ðŸŸ¡ Media","0.5â€“4 m"],
    ["ðŸŸ Lucioperca","ðŸŸ¡ Media","4â€“9 m"],
    ["ðŸŠ Lucio","ðŸŸ¡ Media","somero con sombra"],
    ["ðŸ  Barbo","ðŸŸ¡ Media","1â€“4 m"],
  ], lures:["â€¢ Paseante","â€¢ Shad sobre termoclina","â€¢ Micro-spinner"]},

  { title:"ðŸ“… AGOSTO (calor)", rows:[
    ["ðŸŽ£ Black Bass","ðŸŸ¡ Media","top al amanecer"],
    ["ðŸŸ Perca europea","ðŸŸ¡ Media","1â€“4 m"],
    ["ðŸŸ Lucioperca","ðŸŸ¡ Media","4â€“8 m (noc], lures:["â€¢ Popper/Buzz segÃºn viento","â€¢ Shad nocturno","â€¢ Texas anti-hierba"]},

  { title:"ðŸ“… SEPTIEMBRE (transiciÃ³n)", rows:[
    ["ðŸŽ£ Black Bass","ðŸ”¥ Alta","0.5â€“4 m"],
    ["ðŸŸ Perca europea","ðŸ”¥ Alta","1â€“4 m"],
    ["ðŸŠ Lucio","ðŸ”¥ Alta","2â€“6 m"],
    ["ðŸŸ Lucioperca","ðŸŸ¡ Media","4â€“8 m"],
    ["ðŸ  Barbo","ðŸŸ¡ Media","1â€“3 m"],
  ], lures:["â€¢ Crank medio","â€¢ Spinner 14â€“21 g","â€¢ Wacky/Neko"]},

  { title:"ðŸ“… OCTUBRE (feeding time)", rows:[
    ["ðŸŽ£ Black Bass","ðŸ”¥ Alta","2â€“6 m"],
    ["ðŸŠ Lucio","ðŸ”¥ Alta","2â€“8 m"],
    ["ðŸŸ Lucioperca","ðŸ”¥ Alta","6â€“12 m"],
    ["ðŸŸ Perca europea","ðŸ”¥ Alta","2â€“5 m"],
    ["ðŸ  Barbo","ðŸŸ¡ Media","2â€“5 m"],
  ], lures:["â€¢ Swimbait 12â€“14","â€¢ Crank 6â€“8 cm","â€¢ Texas 7â€“12 g"]},

  { title:"ðŸ“… NOVIEMBRE (bajan temperaturas)", rows:[
    ["ðŸŸ Lucioperca","ðŸ”¥ Alta","6â€“12 m"],
    ["ðŸŸ Perca europea","ðŸ”¥ Alta","4â€“8 m"],
    ["ðŸŠ Lucio","ðŸŸ¡ Media","3â€“7 m"],
    ["ðŸŽ£ Black Bass","ðŸ”´ Baja","4â€“8 m"],
    ["ðŸ  Barbo","ðŸ”´ Baja","3â€“8 m"],
  ], lures:["â€¢ Jig + shad","â€¢ Carolina 10â€“15 g","â€¢ Jerk suspending"]},

  { title:"ðŸ“… DICIEMBRE (inicio del frÃ­o)", rows:[
    ["ðŸŸ Lucioperca","ðŸ”¥ðŸ”¥ Alta","8â€“12 m"],
    ["ðŸŸ Perca europea","ðŸ”¥ Alta","5â€“9 m"],
    ["ðŸŠ Lucio","ðŸŸ¡ Media","3â€“6 m"],
    ["ðŸŽ£ Black Bass","ðŸ”´ Baja","4â€“8 m"],
    ["ðŸ  Barbo","ðŸ”´ Baja","3â€“8 m"],
  ], lures:["â€¢ Jig + shad natural","â€¢ Carolina 10â€“15 g","â€¢ Swimbait lento"]}
];

/* ==========================
   TABLA DE DECISIÃ“N
   ========================== */
const DECISION = [
  ["CondiciÃ³n","SeÃ±uelo","Color","Especies"],
  ["Amanecer/ocaso","Top 9â€“11 cm","Blanco/Perla","Bass,Perca,Barbo"],
  ["Viento suave","Spinner/Crank","Chartreuse/Verde","Bass,Lucio"],
  ["Agua clara","Jerk/Shad","Perla/Ayu","Bass,Zander"],
  ["Fondo","Jig+Shad 12â€“20 g","Naturales","Zander,Barbo"],
  ["Bait en medias","Shad 9â€“10 lineal","Perla+glitter","Zander,Lucio"]
];

/* ==========================
   MOTOR DE RENDER
   ========================== */
const $app = document.getElementById("app");
const $modeSel = document.getElementById("modeSel");
const savedMode = localStorage.getItem("mode") || "A1";
$modeSel.value = savedMode;

function render(){
  const MODE = $modeSel.value;
  localStorage.setItem("mode", MODE);
  $app.innerHTML = "";

  MONTHS.forEach(m => {
    const $card = document.createElement("section");
    $card.className = "month";

    const $tit = document.createElement("div");
    $tit.className = "mtitle";
    $tit.innerHTML = `<h2>${m.title}</h2>`;
    $card.appendChild($tit);

    const $tbl = document.createElement("table");
    $tbl.className = "tbl";
    $tbl.innerHTML = `
      <thead><tr><th>Especie</th><th>Actividad</th><th>Prof.</th></tr></thead>
      <tbody>
        ${m.rows.map(r => `<tr><td>${r[0]}</td><td>${r[1]}</td><td>${r[2]}</td></tr>`).join("")}
      </tbody>
    `;
    $card.appendChild($tbl);

    if(MODE !== "A2"){
      const $l = document.createElement("div");
      $l.className = "lures";
      $l.innerHTML =
        `<h3>ðŸŽ£ SeÃ±uelos clave</h3>` +
        m.lures.map(x => `<span class="chip">${x}</span>`).join("");
      $card.appendChild($l);
    }

    $app.appendChild($card);
  });

  if(MODE === "A3"){
    const $d = document.createElement("section");
    $d.className = "decision";

    $d.innerHTML = `
      <div class="mtitle"><h2>âš¡ Tabla de decisiÃ³n rÃ¡pida</h2></div>
      <table class="tbl">
        <thead><tr>${DECISION[0].map(h => `<th>${h}</th>`).join("")}</tr></thead>
        <tbody>
          ${DECISION.slice(1).map(r =>
            `<tr><td>${r[0]}</td><td>${r[1]}</td><td>${r[2]}</td><td>${r[3]}</td></tr>`
          ).join("")}
        </tbody>
      </table>
      <div class="hint">Usa esta guÃ­a segÃºn luz, viento y actividad.</div>
    `;
    $app.appendChild($d);
  }
}
$modeSel.addEventListener("change", render);
render();

/* ==========================
   INSTALACIÃ“N PWA
   ========================== */
let deferredPrompt;
const $install = document.getElementById("installBtn");

window.addEventListener("beforeinstallprompt", e=>{
  e.preventDefault();
  deferredPrompt = e;
  $install.classList.remove("hidden");
});

$install.addEventListener("click", async ()=>{
  if(!deferredPrompt) return;
  deferredPrompt.prompt();
  await deferredPrompt.userChoice;
  deferredPrompt = null;
  $install.classList.add("hidden");
});

/* ==========================
   SERVICE WORKER
   ========================== */
if("serviceWorker" in navigator){
  navigator.serviceWorker.register("./service-worker.js");
}
</script>
</body>
</html>
